<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Model Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
    background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #007cba;
        }
        button {
            background: #007cba;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #005a8a; }
        button:disabled { 
            background: #ccc;
            cursor: not-allowed; 
        }
        .result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
        }
        .success { 
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error { 
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
    </style>
</head>
<body>
    <h1>üî¨ Gemini Model Availability Test</h1>
    <p>Testing different Gemini models to find which ones work with your API key:</p>

    <div class="test-section">
        <h3>Model Tests:</h3>
        <button onclick="testModel('gemini-1.5-flash', '1.5 Flash (Fast)')">Test Gemini 1.5 Flash</button>
        <button onclick="testModel('gemini-1.5-pro', '1.5 Pro (Recommended)')">Test Gemini 1.5 Pro</button>
        <button onclick="testModel('gemini-2.0-flash-exp', '2.0 Flash (Latest)')">Test Gemini 2.0 Flash</button>
        <button onclick="testModel('models/gemini-pro', 'Models/Gemini-Pro')">Test models/gemini-pro</button>
    </div>

    <div id="results"></div>

    <script>
        const GEMINI_API_KEY = 'AIzaSyBmIYwYoxphBKEmra76G_0lqj_hdDADrVM';
        const GEMINI_PROJECT = '549560236821';

        async function testModel(modelName, displayName) {
            const resultsDiv = document.getElementById('results');
            const resultId = `result-${modelName}`;
            
            // Clear previous result
            const existingResult = document.getElementById(resultId);
            if (existingResult) existingResult.remove();

            // Create new result div
            const resultDiv = document.createElement('div');
            resultDiv.id = resultId;
            resultDiv.className = 'result';
            resultDiv.innerHTML = `<strong>${displayName}:</strong> Testing...`;
            resultsDiv.appendChild(resultDiv);

            // Test different endpoint formats
            const endpoints = [
                `https://generativelanguage.googleapis.com/v1beta/projects/${GEMINI_PROJECT}/models/${modelName}:generateContent`,
                `https://generativelanguage.googleapis.com/v1beta/models/${modelName}:generateContent`,
                `https://ai.google.dev/api/generate`
            ];

            for (let i = 0; i < endpoints.length; i++) {
                const endpoint = endpoints[i];
                
                try {
                    console.log(`Testing ${modelName} with endpoint ${i + 1}:`, endpoint);

                    const response = await fetch(`${endpoint}?key=${GEMINI_API_KEY}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            contents: [
                                {
                                    role: "user",
                                    parts: [{ text: "Say 'test successful' in one word" }]
                                }
                            ]
                        })
                    });

                    console.log(`${modelName} endpoint ${i + 1} response:`, response.status);

                    if (response.ok) {
                        const result = await response.json();
                        console.log(`${modelName} success:`, result);
                        
                        resultDiv.className = 'result success';
                        resultDiv.innerHTML = `
                            <strong>‚úÖ ${displayName}:</strong> WORKS!<br>
                            Endpoint: ${endpoint}<br>
                            Response: ${result.candidates?.[0]?.content?.parts?.[0]?.text || 'Success'}
                        `;
                        return; // Success, stop testing
                    }
                } catch (error) {
                    console.log(`${modelName} endpoint ${i + 1} failed:`, error.message);
                }
            }

            // All endpoints failed
            resultDiv.className = 'result error';
            resultDiv.innerHTML = `<strong>‚ùå ${displayName}:</strong> No working endpoint found`;
        }
    </script>
</body>
</html>
